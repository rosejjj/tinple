<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>switchLan</title>
	<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <link rel="stylesheet" type="text/css" href="../../css/api.css" />
    <script type="text/javascript" src="../../script/api.js"></script>
    <style>
		html, body{
			background-color: transparent;
			font-family: Arial;
			font-style: italic;
		}
		.more{/*点击更多弹出的弹框*/
			width: 100vw;
			height: 100vh;
			background-color: rgba(34, 34, 34, .7);
			position: fixed;
			top: 0;
			left: 0;
		}
		.moreList{/*弹框里的选项列表*/
			width: 94.4vw;
			text-align: center;
			position: absolute;
			left: 50%;
			transform: translateX(-50%);
			-webkit-transform: translateX(-50%);
			bottom: 22.6vw;
			border-radius: 3.46vw;
			overflow: hidden;
		}
		.moreList li{/*选项列表的选项*/
			background-color: #fff;
			height: 13.57vw;
			line-height: 13.57vw;
			font-size: 5.3vw;
			border-bottom: 1px solid #999;
			color: #0076FF;
		}
		.cancel{/*取消按钮*/
			position: absolute;
			width: 94.4vw;
			text-align: center;
			position: absolute;
			left: 50%;
			margin-left: -47.2vw;
			bottom: 5.33vw;
			background-color: #fff;
			color: #0076FF;
			height: 15.2vw;
			line-height: 15.2vw;
			border-radius: 3.46vw;
			font-size: 5.3vw;
		}
		.moreList li.red{
			color: red;
		}
    </style>
</head>
<body>
	<div class="more" id="more">
   		<ul class="moreList">
   			<li id="eng" class="red"><span id="engUse">[ Using ]&nbsp;</span><span>English</span></li>
   			<li id="zho"><span id="zhoUse" style="display: none;">[ 使用中 ]&nbsp;</span><span>繁體中文</span></li>
   		</ul>
   		<p class="cancel" id="cancel">
   			Cancel
   		</p>
   	</div>
   	<!-- 更多选项弹框 -->
	<script type="text/javascript">
		apiready = function(){
			var language = $api.getStorage("language"),
				more = $api.dom("#more"),
				eng = $api.dom("#eng"),
				zho = $api.dom("#zho"),
				cancel = $api.dom("#cancel"),
				engUse = $api.dom("#engUse"),
				zhoUse = $api.dom("#zhoUse");
			if(language == "zho"){
				eng.className = "";
				zho.className = "red";
				$api.html(cancel, "取消");
				$api.css(engUse, "display:none;");
				$api.css(zhoUse, "display:inline;");
				$api.addEvt(eng, "click", function(){
					$api.setStorage("language", null)
					api.rebootApp();
				});
			}else{
				$api.addEvt(zho, "click", function(){
					$api.setStorage("language", "zho")
					api.rebootApp();
				});
			};
			$api.addEvt(more, "click", function(){
				api.closeFrame();
			});
		};
	</script>
</body>
</html>